{"remainingRequest":"/Users/hyeon-work/workspace/00.portfolio/new-whale/node_modules/babel-loader/lib/index.js!/Users/hyeon-work/workspace/00.portfolio/new-whale/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hyeon-work/workspace/00.portfolio/new-whale/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/hyeon-work/workspace/00.portfolio/new-whale/src/components/ListItemDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/hyeon-work/workspace/00.portfolio/new-whale/src/components/ListItemDetail.vue","mtime":1625037043464},{"path":"/Users/hyeon-work/workspace/00.portfolio/new-whale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyeon-work/workspace/00.portfolio/new-whale/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hyeon-work/workspace/00.portfolio/new-whale/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hyeon-work/workspace/00.portfolio/new-whale/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBsaXN0SXRlbTogT2JqZWN0LAogICAgY2lyY2xlX3JhdGU6IE51bWJlcgogIH0sCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNjcm9sbFVwOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRJdGVtSW5kZXg6ICcnLAogICAgICBzZWxlY3RlZFN0YW1wOiAnJywKICAgICAgaW1nU3RhbXA6IHsKICAgICAgICBhY3RpdmU6ICdzdGFtcC1hY3RpdmUnLAogICAgICAgIGluYWN0aXZlOiAnc3RhbXAtYmcnCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgc2Nyb2xsVXBFdmVudDogZnVuY3Rpb24gc2Nyb2xsVXBFdmVudChldmVudCkgewogICAgICAvLyBjb25zb2xlLmxvZygnZXZlbnQuc3JjRWxlbWVudC5zY3JvbGxUb3AnLCBldmVudC5zcmNFbGVtZW50LnNjcm9sbFRvcCk7CiAgICAgIGlmIChldmVudC5zcmNFbGVtZW50LnNjcm9sbFRvcCA+IDApIHsKICAgICAgICB0aGlzLnNjcm9sbFVwID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNjcm9sbFVwID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBnb3RvQmFjazogZnVuY3Rpb24gZ290b0JhY2soKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5saXN0LWl0ZW0tZGV0YWlsJykuc2Nyb2xsVG8oMCwgMCk7CiAgICB9LAogICAgc2hvd1N0YW1wQXJlYTogZnVuY3Rpb24gc2hvd1N0YW1wQXJlYShpdGVtLCBpbmRleCkgewogICAgICB0aGlzLnNlbGVjdGVkSXRlbUluZGV4ID0gaW5kZXg7CgogICAgICBpZiAodGhpcy5zZWxlY3RlZEl0ZW1JbmRleCA9PSBpbmRleCkgewogICAgICAgIGl0ZW0uYWN0aXZlID0gIWl0ZW0uYWN0aXZlOwogICAgICB9IGVsc2UgewogICAgICAgIGl0ZW0uYWN0aXZlID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBzdGFtcEFjdGl2ZTogZnVuY3Rpb24gc3RhbXBBY3RpdmUoaW5kZXgpIHsKICAgICAgdGhpcy5zZWxlY3RlZFN0YW1wID0gaW5kZXg7IC8vIGNvbnNvbGUubG9nKCdzZWxlY3RlZFN0YW1wJywgdGhpcy5zZWxlY3RlZFN0YW1wLCBpbmRleCk7CgogICAgICBpZiAodGhpcy5zZWxlY3RlZFN0YW1wID09IGluZGV4KSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZCA9ICF0aGlzLnNlbGVjdGVkOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/hyeon-work/workspace/00.portfolio/new-whale/src/components/ListItemDetail.vue"],"names":[],"mappings":";AAwGA,eAAe;AACX,EAAA,KAAK,EAAC;AACF,IAAA,QAAQ,EAAE,MADR;AAEF,IAAA,WAAW,EAAE;AAFX,GADK;AAKV,EAAA,UAAU,EAAC,EALD;AAOX,EAAA,IAPW,kBAOL;AACF,WAAM;AACF,MAAA,QAAQ,EAAE,KADR;AAEF,MAAA,iBAAiB,EAAE,EAFjB;AAGF,MAAA,aAAa,EAAC,EAHZ;AAIF,MAAA,QAAQ,EAAE;AACN,QAAA,MAAM,EAAE,cADF;AAEN,QAAA,QAAQ,EAAC;AAFH;AAJR,KAAN;AASH,GAjBU;AAkBX,EAAA,OAlBW,qBAkBF,CACR,CAnBU;AAoBX,EAAA,OAAO,EAAC;AACJ,IAAA,aADI,yBACU,KADV,EACgB;AAChB;AACA,UAAG,KAAK,CAAC,UAAN,CAAiB,SAAjB,GAA6B,CAAhC,EAAmC;AAC/B,aAAK,QAAL,GAAgB,IAAhB;AACJ,OAFA,MAGK;AACD,aAAK,QAAL,GAAgB,KAAhB;AACJ;AACH,KATG;AAUJ,IAAA,QAVI,sBAUM;AACN,WAAK,KAAL,CAAW,OAAX;AACA,MAAA,QAAQ,CAAC,aAAT,CAAuB,mBAAvB,EAA4C,QAA5C,CAAqD,CAArD,EAAwD,CAAxD;AACH,KAbG;AAcJ,IAAA,aAdI,yBAcU,IAdV,EAcgB,KAdhB,EAcsB;AACvB,WAAK,iBAAL,GAAyB,KAAzB;;AACA,UAAG,KAAK,iBAAL,IAA0B,KAA7B,EAAmC;AAC/B,QAAA,IAAI,CAAC,MAAL,GAAc,CAAC,IAAI,CAAC,MAApB;AACH,OAFD,MAEK;AACD,QAAA,IAAI,CAAC,MAAL,GAAc,KAAd;AACJ;AACF,KArBG;AAsBJ,IAAA,WAtBI,uBAsBQ,KAtBR,EAsBc;AACd,WAAK,aAAL,GAAqB,KAArB,CADc,CAEd;;AACA,UAAG,KAAK,aAAL,IAAsB,KAAzB,EAA+B;AAC3B,aAAK,QAAL,GAAgB,CAAC,KAAK,QAAtB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,KAAK,QAAjB;AACJ,OAHA,MAII;AACA,aAAK,QAAL,GAAgB,KAAhB;AACJ;AACH;AAhCG;AApBG,CAAf","sourcesContent":["<template>\n    <div class=\"list-item-detail\" \n        @scroll=\"scrollUpEvent\"\n        :class=\"{ 'scrolled' : scrollUp }\"\n    >\n        <div class=\"main-view \" \n        >\n            <div class=\"item-header flex-sb\">\n                <button type=\"button\" @click=\"gotoBack\">\n                    <i class=\"fas fa-arrow-left font-24\"></i>\n                </button>\n                    \n                <div class=\"center text-ellipsis\" >\n                    {{listItem.title}}\n                </div>\n                    \n                <button type=\"button\">\n                    <i class=\"far fa-trash-alt font-24\"></i>\n                </button>\n            </div>\n            \n            <div class=\"progress-info-area\">\n                <div class=\"progress-area\">\n                    <div class=\"progress-circle\">\n                        <svg>\n                            <circle class=\"bg\" cx=\"125\" cy=\"125\" r=\"110\" />\n                            <circle class=\"circle-rate\" cx=\"125\" cy=\"125\" r=\"120\" :style=\"`stroke-dashoffset:${circle_rate}`\"/>\n                        </svg>\n                    </div>\n                    <div class=\"circle-rate-num\">\n                        <span>{{listItem.totalRate}}</span>\n                        <span>%</span>\n                    </div>\n                </div>\n\n                <div class=\"info-area\">\n                    <div class=\"row flex-col\">\n                        <span>목표</span>\n                        <p class=\"title\">{{listItem.title}}</p>\n                    </div>\n                    <div class=\"row flex-col\">\n                        <span>리워드</span>\n                        <p class=\"reward\">{{listItem.reward}}</p>\n                    </div>\n                    <div class=\"row flex-col\">\n                        <span>규칙</span>\n                        <div class=\"rules\" \n                            v-for=\"item in listItem.rules\" :key=\"item\"\n                        >\n                            <p>{{item}}</p>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n\n        <div class=\"group-area\">\n            <div class=\"group-item\"\n                v-for=\"(item, index) in listItem.group\" :key=\"item.name\"\n            >\n                <div class=\"name-area flex-sb\">\n                    <span>{{item.name}}</span>\n                    <span>{{item.rate}}%</span>\n                </div>\n\n                <div class=\"progress-bar-area\">\n                    <div class=\"progress-bar\">\n                        <div class=\"bar bg\"></div>\n                        <div class=\"bar on-bar\" :style=\"`width: ${item.rate}px`\"></div>\n                    </div>\n                    <div \n                        class=\"arrow-area\" \n                        @click=\"showStampArea(item, index)\"\n                    >\n                        <i \n                            class=\"fas\"\n                            :class=\"item.active ? 'fa-chevron-up' : 'fa-chevron-down' \"\n                        ></i>\n                        <!-- <i class=\"fas fa-chevron-up\"></i> -->\n                    </div>\n                </div>\n\n                <div \n                    class=\"stamp-area\" \n                    :class=\"{ show : item.active}\"\n                >\n                    <span \n                        v-for=\"(item, index) in listItem.basicStamp\" :key=\"item\"\n                        class=\"icon-stamp\"\n                        @click=\"stampActive(index, {selected: false})\"\n                    >\n                        <!-- <img :src=\"`../assets/img/${selected ? imgStamp.active : imgStamp.inactive}.svg`\" alt=\"stamp\"> -->\n                        <img v-if=\"selected\" src=\"../assets/img/stamp-active.svg\" alt=\"stamp\">\n                        <img v-else src=\"../assets/img/stamp-bg.svg\" alt=\"stamp\">\n                    </span>\n                </div>\n            </div>\n        </div>\n    </div>  \n</template>\n\n<script>\n\nexport default {\n    props:{\n        listItem: Object,\n        circle_rate: Number,\n    },\n     components:{\n         },\n    data(){\n        return{\n            scrollUp: false,\n            selectedItemIndex: '',\n            selectedStamp:'',\n            imgStamp: {\n                active: 'stamp-active',\n                inactive:'stamp-bg'\n            },\n        }\n    }, \n    mounted(){\n    },\n    methods:{\n        scrollUpEvent(event){\n            // console.log('event.srcElement.scrollTop', event.srcElement.scrollTop);\n            if(event.srcElement.scrollTop > 0) {\n                this.scrollUp = true;\n            }\n            else {\n                this.scrollUp = false;\n            }\n        },\n        gotoBack(){\n            this.$emit('close');\n            document.querySelector('.list-item-detail').scrollTo(0, 0);\n        },\n        showStampArea(item, index){\n           this.selectedItemIndex = index;\n           if(this.selectedItemIndex == index){\n               item.active = !item.active;\n           }else{\n               item.active = false;\n           }\n        },\n        stampActive(index){\n            this.selectedStamp = index;\n            // console.log('selectedStamp', this.selectedStamp, index);\n            if(this.selectedStamp == index){\n                this.selected = !this.selected;\n                console.log(this.selected);\n            }\n            else{\n                this.selected = false;\n            }\n        },\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.list-item-detail{\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n    z-index: 1000;\n    overflow-y: scroll;\n\n    \n    // 스크롤시 progress 영역 축소\n    &.scrolled{\n        .main-view{\n            height: initial;\n            position: relative;\n            .item-header{\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                box-sizing: border-box;\n            }\n        }\n        .progress-info-area{\n            // position: fixed;\n            // top: 56px;\n            // left: 0;\n            // margin-bottom: 56px;\n            width: 100%;\n            box-sizing: border-box;\n            display: flex;\n            justify-content: flex-start;\n            align-items: center;\n            padding: 30px 20px 20px;\n            margin-top: 56px;\n            .progress-area{\n                margin: 0 16px 0 0;\n                // width: 100px;\n                // height: 100px;\n                // border-radius: 60px;\n                .progress-circle{\n                    display: none;\n                }\n                .circle-rate-num{\n                    position: initial;\n                    top: initial;\n                    left: initial;\n                    transform: initial;\n                    background: #cbd0ff;\n                    border-radius: 50px;\n                    padding: 10px;\n                    width: 100px;\n                    height: 100px;\n                    box-sizing: border-box;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    span{\n                        font-size: 42px;\n                        color: #fff;\n                        &:last-child{\n                            font-size: 18px;\n                            margin: 15px 0 0 6px;\n                        }\n                    }\n                }\n            }\n            .info-area{\n                width: calc(100% - 120px);\n                .row{\n                    padding: 0;\n                    flex-direction: row;\n                    justify-content: flex-start;\n                    span{\n                        display: none;\n                    }\n                    .title{\n                        display: none;\n                    }\n                    .reward{\n                        color: #6d5de8;\n                        font-size: 16px;\n                        font-weight: bold;\n                    }\n                    .rules{\n                        p{\n                            font-size: 14px;\n                            color: #929292;\n                            line-height: 18px;\n                        }\n                    }\n                    &:last-child{\n                        padding-top: 8px;\n                        flex-direction: column;\n                        align-items: flex-start;\n                    }\n                }\n\n            }\n        }\n    }\n}\n.main-view{\n    height: 100vh;\n    .item-header{\n        padding: 16px 20px;\n        background: #fff;\n        z-index: 100;\n        .center{\n            width: 80%;\n            font-weight: bold;\n            font-size: 16px;\n            text-align: center;\n        }\n    }\n    .progress-info-area{\n        .progress-area{\n            position: relative;\n            transition: .3s;\n            margin: 25px auto;\n            // width: 250px;\n            // height: 250px;\n            // background: #efefef;\n            // border-radius: 130px;\n            .progress-circle{\n                display: flex;\n                justify-content: center;\n                svg {\n                    width: 250px;\n                    height: 250px;\n                // margin: 1em;\n                }\n                .bg {\n                    fill: none;\n                    stroke-width: 10px;\n                    stroke: #efefef;\n                }\n                .circle-rate {\n                    fill: none;\n                    stroke-width: 5px;\n                    stroke-linecap: round;\n                    transform: rotate(-90deg);\n                    transform-origin: 50% 50%;\n                    stroke-dasharray: 755;\n                    // stroke-dasharray: 360;\n                    // stroke-dashoffset: 360;\n                    // stroke-dashoffset: 180;\n                    stroke: #fdca6f;\n                    transition: .4s ease-in;\n                    animation: progress 1s ease-out;\n                }\n                @keyframes progress {\n                    from {\n                        stroke-dashoffset: 755;\n                    }\n                    to {\n                        stroke-dashoffset: circle_rate;\n                    }\n                }\n            }\n            .circle-rate-num{\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n                // transition: .4s;\n                span{\n                    font-size: 64px;\n                    font-weight: 200;\n                    color: #6d5de8;\n                    &:last-child{\n                        font-size: 26px;\n                        margin-left: 8px;\n                    }\n                }\n            }\n        }\n        .info-area{\n            .row{\n                padding-top: 20px;\n                font-size: 16px;\n                .title{\n                    font-weight: bold;\n                }\n                .rules{\n                    p{\n                        font-size: 14px;\n                    }\n                }\n                span{\n                    font-size: 12px;\n                    color: #fff;\n                    background: #6d5de8;\n                    border-radius: 15px;\n                    padding: 3px 8px 2px;\n                    font-weight: bold;\n                    margin-bottom: 6px;\n                }\n                p{\n                    font-size: 16px;\n                    line-height: 24px;\n                }\n            }\n        }\n    }\n    \n}\n\n.group-area{\n    // height: calc(100% - );\n    height: calc(100vh - 150px);\n    \n    .group-item{\n        padding: 15px 20px;\n        border-top: 1px solid #eee;\n        .name-area{\n            padding-bottom: 20px;\n            span{\n                font-size: 16px;\n                font-weight: bold;\n            }\n        }\n        .progress-bar-area{\n            // padding: 15px 0;\n            .progress-bar{\n                position: relative;\n                padding-bottom: 15px;\n                .bar{\n                    background: #efefef;\n                    height: 8px;\n                    border-radius: 6px;\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                }\n                .bg{\n                    width: 100%;\n                }   \n                .on-bar{\n                    transition: .4s ease-in;\n                    background: #6d5de8;\n                    width: 0%;\n                }\n                \n            }\n            .arrow-area{\n                width: 100%;\n                text-align: right;\n                .fas{\n                    width: 16px;\n                    height: 16px;\n                    color: #6d5de8;\n                    // color: #8a8a8a;\n                    padding: 5px;\n                }\n            }\n        }\n        .stamp-area{\n            // border-top: 1px solid #000;\n            padding: 5px;\n            display: none;\n            transition: .4s;\n            &.show{\n                display: block;\n            }\n            .icon-stamp{\n                width: 20%;\n                display: inline-flex;\n                align-items: center;\n                justify-content: center;\n                padding: 10px 5px;\n                box-sizing: border-box;\n                img{\n                    width: 40px;\n                    height: 40px;\n                }\n            }\n        }\n       \n    }\n}\n</style>"],"sourceRoot":""}]}